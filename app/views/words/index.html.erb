<h1>
  Words
  <% if admin? %>  <!-- logged in as HAL -->
    <%= link_to 'New Word', new_word_path, class: "btn btn-primary btn-sm" %>
  <% end %>
</h1>

<p id="notice"><%= notice %></p>


<% @words.all.group_by_character.each_pair do |letter, entries| %>
  <% next unless entries.present? %>
  <h1><%= letter %></h1>
  <hr>
  <div class="row">
    <% entries.each do |word| %>
      <div class='col-md-4'>
        <% case word.status %>
        <% when Word::STATUS_UNCLAIMED %>
          <%= link_to claim_word_path(word),  method: :post do %><img src="/icons/<%= word.status %>.png" width=16 height=16 alt="<%= word.status %>" class="mx-2"><% end %>
        <% else %>
          <img src="/icons/<%= word.status %>.png" width=16 height=16 alt="<%= word.status %>" class="mx-2">
        <% end %>

        <% case word.status %>
        <% when Word::STATUS_DRAFT %>
          <% if word.can_edit_draft?(current_user) %>
            <a href=<%= edit_word_path(word) %> style='text-decoration: none'><%= word.word %></a>
          <% else %>
            <a href=<%= word_path(word) %> style='text-decoration: none'><%= word.word %></a>
          <% end %>
        <% else %>
          <% if word.can_edit?(current_user) %>
            <a href=<%= edit_word_path(word) %> style='text-decoration: none'><%= word.word %></a>
          <% else %>
            <a href=<%= word_path(word) %> style='text-decoration: none'><%= word.word %></a>
          <% end %>
        <% end %>
      </div>
    <% end %>
  </div>
  <br>
<% end %>
<br>
